(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{4335:function(e,s,t){Promise.resolve().then(t.bind(t,7597))},7597:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(7437),r=t(2265),l=t(5606);function i(e){let{reports:s,stockName:t}=e,r=s.filter(e=>e.target_price&&e.target_price>0);if(0===r.length)return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm text-center",children:(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"목표가 데이터가 없습니다"})});let l=new Map;r.forEach(e=>{let s=l.get(e.firm);(!s||e.published_at>s.date)&&l.set(e.firm,{price:e.target_price,date:e.published_at,opinion:e.opinion})});let i=Array.from(l.entries()).map(e=>{let[s,t]=e;return{firm:s,...t}}).sort((e,s)=>s.price-e.price),n=Math.max(...i.map(e=>e.price)),c=Math.min(...i.map(e=>e.price)),d=n-c,x=e=>{switch(e){case"BUY":return"bg-green-500";case"HOLD":return"bg-yellow-500";case"SELL":return"bg-red-500";default:return"bg-gray-500"}},m=e=>e>=1e4?"".concat(Math.floor(e/1e4),"만원"):e>=1e3?"".concat(Math.floor(e/1e3),"천원"):"".concat(e,"원");return(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"\uD83D\uDCCA 증권사별 목표가 비교"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:t})]}),(0,a.jsx)("div",{className:"space-y-4",children:i.map((e,s)=>{let t=Math.max(d>0?(e.price-c)/d*100:100,10);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:e.firm}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full text-white ".concat(x(e.opinion)),children:e.opinion}),(0,a.jsx)("span",{className:"font-bold text-gray-900",children:m(e.price)})]})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"w-full h-8 bg-gray-100 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(x(e.opinion)," transition-all duration-500 ease-out flex items-center justify-end px-2"),style:{width:"".concat(t,"%")},children:t>30&&(0,a.jsx)("span",{className:"text-white text-xs font-medium",children:m(e.price)})})})}),(0,a.jsx)("div",{className:"text-xs text-gray-400 text-right",children:new Date(e.date).toLocaleDateString("ko-KR",{year:"2-digit",month:"2-digit",day:"2-digit"})})]},e.firm)})}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"평균 목표가"}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:m(Math.round(i.reduce((e,s)=>e+s.price,0)/i.length))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"목표가 범위"}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[m(c)," ~ ",m(n)]})]})]})]})}let n={240810:"원익QnC",284620:"카이",298040:"효성중공업",352820:"하이브",403870:"HPSP","090430":"아모레퍼시픽","000660":"SK하이닉스","079160":"CJ CGV","005380":"현대자동차","005930":"삼성전자","036930":"주성엔지니어링","042700":"한미반도체","006400":"삼성SDI","000720":"현대건설","005940":"NH투자증권","016360":"삼성증권","039490":"키움증권","051910":"LG화학","036570":"엔씨소프트","071050":"한국금융지주"},c=Object.values(l).flat();function d(e){let{opinion:s}=e,t={BUY:"bg-[#22c55e]/10 text-[#22c55e] border border-[#22c55e]/20",HOLD:"bg-[#eab308]/10 text-[#eab308] border border-[#eab308]/20",SELL:"bg-[#ef4444]/10 text-[#ef4444] border border-[#ef4444]/20"};return(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat(t[s]||t.HOLD),children:s})}function x(e){return null==e?"-":"".concat(Math.floor(e/1e4),"만원")}function m(e){try{let s=new Date(e),t=s.getFullYear().toString().slice(-2),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return"".concat(t,".").concat(a,".").concat(r)}catch(s){return e}}function o(e){let{report:s,isOpen:t,onClose:r}=e;return t&&s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[80vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"리포트 상세"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-xl",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:n[s.ticker]||s.ticker}),(0,a.jsx)(d,{opinion:s.opinion})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"증권사"}),(0,a.jsx)("p",{className:"font-medium",children:s.firm})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"애널리스트"}),(0,a.jsx)("p",{className:"font-medium",children:s.analyst||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"목표가"}),(0,a.jsx)("p",{className:"font-medium",children:x(s.target_price)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"투자의견"}),(0,a.jsx)("p",{className:"font-medium",children:s.opinion})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"발행일"}),(0,a.jsx)("p",{className:"font-medium",children:m(s.published_at)})]})]}),s.summary&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"AI 한줄요약"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1 p-3 bg-gray-50 rounded-lg",children:s.summary})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsx)("a",{href:s.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:"\uD83D\uDCC4 PDF 보고서 보기"})})]})]})})}):null}function h(){let[e,s]=(0,r.useState)("latest"),[t,h]=(0,r.useState)(""),[p,u]=(0,r.useState)(null),[f,j]=(0,r.useState)(!1),g=t.toLowerCase(),b=e=>{u(e),j(!0)},N=(0,r.useMemo)(()=>[...c].sort((e,s)=>s.published_at.localeCompare(e.published_at)),[]),y=(0,r.useMemo)(()=>N.filter(e=>!g||e.firm.toLowerCase().includes(g)||(n[e.ticker]||"").toLowerCase().includes(g)||e.title.toLowerCase().includes(g)),[N,g]),v=(0,r.useMemo)(()=>{let e={};for(let a of c){var s,t;(null!==(t=e[s=a.firm])&&void 0!==t?t:e[s]=[]).push(a)}return Object.entries(e).map(e=>{let[s,t]=e;return{firm:s,reports:t,tickers:new Set(t.map(e=>e.ticker)).size}}).filter(e=>!g||e.firm.toLowerCase().includes(g)).sort((e,s)=>s.reports.length-e.reports.length)},[g]),w=(0,r.useMemo)(()=>Object.entries(l).map(e=>{let[s,t]=e,a=n[s]||s,r=[...t].sort((e,s)=>s.published_at.localeCompare(e.published_at));return{ticker:s,name:a,reports:r,firms:[...new Set(t.map(e=>e.firm))],latest:r[0]}}).filter(e=>!g||e.name.toLowerCase().includes(g)||e.firms.some(e=>e.toLowerCase().includes(g))).sort((e,s)=>s.reports.length-e.reports.length),[g]),[D,C]=(0,r.useState)(null),[k,_]=(0,r.useState)(null);return(0,a.jsxs)("div",{className:"min-h-screen bg-[#f8f9fa]",children:[(0,a.jsxs)("div",{className:"bg-white border-b border-gray-100 px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA 애널리스트 리포트"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["20종목 \xb7 ",c.length,"개 리포트"]})]}),(0,a.jsx)("div",{className:"px-4 pt-3",children:(0,a.jsx)("input",{type:"text",placeholder:"종목명, 증권사 검색...",value:t,onChange:e=>h(e.target.value),className:"w-full px-4 py-2.5 bg-white rounded-xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200"})}),(0,a.jsx)("div",{className:"flex gap-2 px-4 pt-3 pb-2",children:[{id:"latest",label:"\uD83D\uDD25 최신 리포트"},{id:"analyst",label:"\uD83D\uDC64 애널리스트별"},{id:"stock",label:"\uD83D\uDCC8 종목별"},{id:"firm",label:"\uD83C\uDFE2 증권사별"}].map(t=>(0,a.jsx)("button",{onClick:()=>s(t.id),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors ".concat(e===t.id?"bg-gray-900 text-white":"bg-white text-gray-600 border border-gray-200"),children:t.label},t.id))}),(0,a.jsxs)("div",{className:"px-4 pb-20",children:["latest"===e&&(0,a.jsxs)("div",{className:"space-y-2",children:[y.slice(0,100).map((e,s)=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>b(e),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:m(e.published_at)}),(0,a.jsx)(d,{opinion:e.opinion})]}),(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:n[e.ticker]||e.ticker}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"\xb7"}),(0,a.jsxs)("span",{className:"text-xs text-gray-700 font-medium",children:["목표 ",x(e.target_price)]})]})]}),(0,a.jsx)("div",{className:"ml-2 text-lg",children:"\uD83D\uDCC4"})]})},s)),0===y.length&&(0,a.jsx)("p",{className:"text-center text-gray-400 py-10 text-sm",children:"검색 결과가 없습니다"})]}),"analyst"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDC64"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-[#191f28] mb-2",children:"데이터 준비 중"}),(0,a.jsxs)("p",{className:"text-[#8b95a1] text-sm leading-relaxed",children:["애널리스트별 분류 기능을 준비하고 있습니다.",(0,a.jsx)("br",{}),"현재 애널리스트 정보 수집 중이며, 곧 업데이트될 예정입니다."]})]}),"firm"===e&&(0,a.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>C(D===e.firm?null:e.firm),className:"w-full px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.firm}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.reports.length,"개 리포트 \xb7 ",e.tickers,"종목 커버"]})]}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:D===e.firm?"▲":"▼"})]}),D===e.firm&&(0,a.jsx)("div",{className:"border-t border-gray-100 px-4 pb-3",children:[...e.reports].sort((e,s)=>s.published_at.localeCompare(e.published_at)).slice(0,20).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-gray-800 truncate",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,a.jsx)("span",{className:"text-xs text-blue-600",children:n[e.ticker]||e.ticker}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.published_at}),(0,a.jsx)(d,{opinion:e.opinion})]})]}),(0,a.jsx)("a",{href:e.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"ml-2",children:"\uD83D\uDCC4"})]},s))})]},e.firm))}),"stock"===e&&(0,a.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>_(k===e.ticker?null:e.ticker),className:"w-full px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.reports.length,"개 리포트 \xb7 ",e.firms.join(", ")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d,{opinion:e.latest.opinion}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:k===e.ticker?"▲":"▼"})]})]}),k===e.ticker&&(0,a.jsxs)("div",{className:"border-t border-gray-100",children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(i,{reports:e.reports,stockName:e.name})}),(0,a.jsxs)("div",{className:"px-4 pb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:"\uD83D\uDCC4 리포트 목록"}),e.reports.slice(0,20).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-gray-800 truncate",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.firm}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:m(e.published_at)}),(0,a.jsx)(d,{opinion:e.opinion}),(0,a.jsxs)("span",{className:"text-xs text-gray-700",children:["목표 ",x(e.target_price)]})]})]}),(0,a.jsx)("a",{href:e.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"ml-2",children:"\uD83D\uDCC4"})]},s))]})]})]},e.ticker))})]}),(0,a.jsx)(o,{report:p,isOpen:f,onClose:()=>{j(!1),u(null)}})]})}}},function(e){e.O(0,[606,971,117,744],function(){return e(e.s=4335)}),_N_E=e.O()}]);