(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101,141],{8101:function(e,n,t){Promise.resolve().then(t.bind(t,1063))},1063:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var s=t(7437),r=t(2265),i=t(9376),a=t(2141);let c=[{name:"전체",code:"",change:"",isPositive:!0,isActive:!0},{name:"삼성전자",code:"005930",change:"+0.8%",isPositive:!0,isActive:!1},{name:"현대차",code:"005380",change:"+2.1%",isPositive:!0,isActive:!1},{name:"카카오",code:"035720",change:"-1.2%",isPositive:!1,isActive:!1},{name:"SK하이닉스",code:"000660",change:"+1.5%",isPositive:!0,isActive:!1},{name:"LG에너지",code:"373220",change:"+0.5%",isPositive:!0,isActive:!1},{name:"NAVER",code:"035420",change:"-0.3%",isPositive:!1,isActive:!1}];function l(){let[e,n]=(0,r.useState)("전체"),t=(0,i.useRouter)(),[l,o]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{u(!0),console.log("Loading influencer signals...");let e=await (0,a.kB)(50);console.log("Loaded signals:",e.length);let n=e.map((e,n)=>{var t,s,r,i,a,c,l;let o=(null===(s=e.influencer_videos)||void 0===s?void 0:null===(t=s.influencer_channels)||void 0===t?void 0:t.channel_name)||(null===(i=e.influencer_videos)||void 0===i?void 0:null===(r=i.influencer_channels)||void 0===r?void 0:r.channel_handle)||"알 수 없는 채널",d=(null===(a=e.speakers)||void 0===a?void 0:a.name)||o,u=(null===(c=e.influencer_videos)||void 0===c?void 0:c.published_at)||e.timestamp;return null===(l=e.influencer_videos)||void 0===l||l.title,{id:e.id||n,type:"influencer",icon:m(e.signal),categoryName:"인플루언서",stockName:e.stock||"알 수 없는 종목",stockCode:e.ticker||"",title:"".concat(d," ").concat(e.signal," 신호"),time:x(u),date:h(u),source:d,channelName:o,signal:e.signal,keyQuote:e.key_quote||"핵심 발언 없음",reasoning:e.reasoning||"분석 내용 없음",influencerId:f(o),originalData:e}});console.log("Converted events:",n.length),o(n)}catch(e){console.error("Error loading data:",e),o([])}finally{u(!1)}})()},[]);let m=e=>{switch(e){case"매수":return"\uD83D\uDD35";case"긍정":return"\uD83D\uDFE2";case"중립":return"\uD83D\uDFE1";case"경계":return"\uD83D\uDFE0";case"매도":return"\uD83D\uDD34";default:return"⚪"}},f=e=>e.includes("슈카")||e.includes("syuka")?"syuka":e.includes("삼프로")||e.includes("3pro")?"3protv":e.includes("코린이")||e.includes("korini")?"korini_papa":e.includes("달란트")?"talent":e.includes("부읽남")?"booknam":e.includes("이효석")?"hyoseok":"unknown",x=e=>{if(!e)return"시간 미상";try{let n=new Date(e),t=new Date().getTime()-n.getTime(),s=Math.floor(t/6e4),r=Math.floor(t/36e5),i=Math.floor(t/864e5);if(i>0)return"".concat(i,"일 전");if(r>0)return"".concat(r,"시간 전");if(s>0)return"".concat(s,"분 전");return"방금 전"}catch(e){return"시간 미상"}},h=e=>{if(!e)return"날짜 미상";try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}catch(e){return"날짜 미상"}},g=(()=>{if("전체"===e)return l;let n=c.find(n=>n.name===e);return n?l.filter(t=>t.stockName===e||t.stockName.includes(e)||t.stockCode===n.code):l})(),v=e=>{n(e)},b=e=>{e.stockCode&&t.push("/stock/".concat(e.stockCode,"?tab=influencer"))},p=(e,n)=>{n.stopPropagation(),e.influencerId&&"unknown"!==e.influencerId&&t.push("/profile/".concat(e.influencerId))},N=e=>{switch(e){case"매수":return"text-blue-600 bg-blue-50";case"긍정":return"text-green-600 bg-green-50";case"중립":return"text-yellow-600 bg-yellow-50";case"경계":return"text-orange-600 bg-orange-50";case"매도":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#f4f4f4]",children:[(0,s.jsx)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-[#191f28]",children:"⭐ 내 종목"}),(0,s.jsx)("div",{className:"text-sm text-[#8b95a1]",children:d?"로딩 중...":"".concat(g.length,"개 이벤트")})]})}),(0,s.jsx)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:c.map((n,t)=>(0,s.jsx)("button",{onClick:()=>v(n.name),className:"flex-shrink-0 px-4 py-2.5 rounded-full text-sm font-medium transition-colors ".concat(e===n.name?"bg-[#3182f6] text-white":"bg-[#f8f9fa] text-[#191f28] hover:bg-[#e9ecef]"),children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:n.name}),n.change&&(0,s.jsx)("span",{className:"text-xs font-medium ".concat(e===n.name?"text-white/90":n.isPositive?"text-[#f44336]":"text-[#3182f6]"),children:n.change})]})},t))})}),(0,s.jsxs)("div",{className:"px-4 py-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-[#e8e8e8] overflow-hidden",children:d?(0,s.jsx)("div",{className:"p-8 text-center",children:(0,s.jsx)("div",{className:"text-lg text-[#8b95a1]",children:"데이터를 불러오는 중..."})}):g.length>0?(0,s.jsx)("div",{className:"divide-y divide-[#f0f0f0]",children:g.map(e=>(0,s.jsx)("div",{onClick:()=>b(e),className:"px-4 py-4 hover:bg-[#f8f9fa] cursor-pointer transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#f8f9fa] flex items-center justify-center text-lg flex-shrink-0",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-[#8b95a1] bg-[#f2f4f6] px-2 py-0.5 rounded",children:e.categoryName}),(0,s.jsx)("span",{className:"text-sm font-bold text-[#191f28]",children:e.stockName}),e.signal&&(0,s.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded ".concat(N(e.signal)),children:e.signal})]}),(0,s.jsx)("h3",{className:"text-[15px] font-medium text-[#191f28] leading-[1.4] mb-2",children:e.title}),e.keyQuote&&"핵심 발언 없음"!==e.keyQuote&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("div",{className:"text-xs text-[#8b95a1] mb-1",children:"핵심 발언:"}),(0,s.jsxs)("div",{className:"text-sm text-[#191f28] bg-[#f8f9fa] px-2 py-1 rounded text-ellipsis line-clamp-2",children:['"',e.keyQuote,'"']})]}),e.reasoning&&"분석 내용 없음"!==e.reasoning&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("div",{className:"text-xs text-[#8b95a1] mb-1",children:"분석:"}),(0,s.jsx)("div",{className:"text-sm text-[#191f28] line-clamp-2",children:e.reasoning})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-[#8b95a1]",children:[e.date," • ",e.time]}),e.source&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs text-[#8b95a1]",children:"•"}),(0,s.jsx)("button",{onClick:n=>p(e,n),className:"text-sm text-[#3182f6] hover:underline",children:e.source})]})]}),(0,s.jsx)("div",{className:"text-[#8b95a1] text-sm",children:"→"})]})]})]})},e.id))}):(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCB"}),(0,s.jsx)("div",{className:"text-lg font-medium text-[#191f28] mb-2",children:"전체"===e?"이벤트가 없습니다":"".concat(e,"의 이벤트가 없습니다")}),(0,s.jsx)("div",{className:"text-sm text-[#8b95a1]",children:"전체"!==e&&"다른 종목을 선택하거나 전체를 확인해보세요"})]})}),g.length>0&&(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-sm text-[#8b95a1]",children:"시그널을 클릭하면 종목 상세 페이지로, 인플루언서 이름을 클릭하면 프로필로 이동합니다"})})]})]})}},2141:function(e,n,t){"use strict";t.d(n,{OQ:function(){return s},R8:function(){return r},getStockSignals:function(){return c},j7:function(){return a},kB:function(){return i}});let s=(0,t(3053).eI)("https://arypzhotxflimroprmdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyeXB6aG90eGZsaW1yb3BybWRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMDYxMTAsImV4cCI6MjA4NzU4MjExMH0.qcqFIvYRiixwu609Wjj9H3HxscU8vNpo9nS_KQ3f00A"),r=e=>{switch(e){case"매수":case"BUY":return"bg-blue-100 text-[#3182f6] border-blue-200";case"긍정":case"POSITIVE":return"bg-green-100 text-[#22c55e] border-green-200";case"중립":case"NEUTRAL":return"bg-yellow-100 text-[#eab308] border-yellow-200";case"경계":case"CONCERN":return"bg-orange-100 text-[#f97316] border-orange-200";case"매도":case"SELL":return"bg-red-100 text-[#ef4444] border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{let{data:n,error:t}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("review_status","approved").order("timestamp",{ascending:!1}).limit(e);if(t)return console.error("Error fetching latest signals:",t),[];return n||[]}catch(e){return console.error("Error in getLatestInfluencerSignals:",e),[]}}async function a(e){try{let{data:n,error:t}=await s.from("influencer_channels").select("*").eq("channel_handle",e).single();if(t)return console.error("Error fetching channel:",t),null;let{data:r,error:i}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id\n        ),\n        speakers (\n          name\n        )\n      ").in("video_id",await s.from("influencer_videos").select("id").eq("channel_id",n.id).then(e=>{let{data:n}=e;return(null==n?void 0:n.map(e=>e.id))||[]})).eq("review_status","approved").order("timestamp",{ascending:!1});if(i)return console.error("Error fetching signals:",i),{...n,signals:[]};return{...n,signals:r||[]}}catch(e){return console.error("Error in getInfluencerProfile:",e),null}}async function c(e){try{let{data:n,error:t}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("ticker",e).eq("review_status","approved").order("timestamp",{ascending:!1});if(t)return console.error("Error fetching stock signals:",t),[];return n||[]}catch(e){return console.error("Error in getStockSignals:",e),[]}}},9376:function(e,n,t){"use strict";var s=t(5475);t.o(s,"usePathname")&&t.d(n,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(n,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(n,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[53,971,117,744],function(){return e(e.s=8101)}),_N_E=e.O()}]);