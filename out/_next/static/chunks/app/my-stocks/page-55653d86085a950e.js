(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101,141],{8101:function(e,t,n){Promise.resolve().then(n.bind(n,1063))},1063:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(7437),a=n(2265),i=n(9376),r=n(2141);let c=[{name:"전체",code:"",change:"",isPositive:!0,isActive:!0},{name:"삼성전자",code:"005930",change:"+0.8%",isPositive:!0,isActive:!1},{name:"현대차",code:"005380",change:"+2.1%",isPositive:!0,isActive:!1},{name:"카카오",code:"035720",change:"-1.2%",isPositive:!1,isActive:!1},{name:"SK하이닉스",code:"000660",change:"+1.5%",isPositive:!0,isActive:!1},{name:"LG에너지",code:"373220",change:"+0.5%",isPositive:!0,isActive:!1},{name:"NAVER",code:"035420",change:"-0.3%",isPositive:!1,isActive:!1}],o=[{id:"analyst_1",stockName:"삼성전자",stockCode:"005930",firm:"한국투자증권",analyst:"김선우",rating:"BUY",targetPrice:"85,000원",summary:"3분기 실적 서프라이즈, HBM 수요 증가",publishedAt:new Date(Date.now()-18e6).toISOString()},{id:"analyst_2",stockName:"현대차",stockCode:"005380",firm:"미래에셋증권",analyst:"박자동차",rating:"BUY",targetPrice:"220,000원",summary:"전기차 판매 증가, 인도법인 호조",publishedAt:new Date(Date.now()-108e5).toISOString()},{id:"analyst_3",stockName:"SK하이닉스",stockCode:"000660",firm:"KB증권",analyst:"이메모리",rating:"BUY",targetPrice:"190,000원",summary:"AI 반도체 수요 지속, D램 가격 회복",publishedAt:new Date(Date.now()-36e5).toISOString()}],l=[{id:"disclosure_1",stockName:"삼성전자",stockCode:"005930",title:"자사주 500만주 취득 결정",grade:"A",amount:"3조원",publishedAt:new Date(Date.now()-144e5).toISOString()},{id:"disclosure_2",stockName:"카카오",stockCode:"035720",title:"3분기 실적 공시",grade:"A",amount:"매출 1.8조원",publishedAt:new Date(Date.now()-72e5).toISOString()}],d=[{id:"news_1",stockName:"LG에너지",stockCode:"373220",title:"GM과 배터리 공급계약 연장 협의",source:"서울경제",publishedAt:new Date(Date.now()-216e5).toISOString()},{id:"news_2",stockName:"NAVER",stockCode:"035420",title:"AI 클로바X 글로벌 확장 계획 발표",source:"매일경제",publishedAt:new Date(Date.now()-18e5).toISOString()}];function u(){let[e,t]=(0,a.useState)("전체"),n=(0,i.useRouter)(),[u,m]=(0,a.useState)([]),[h,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{f(!0),console.log("Loading integrated feed...");let e=await (0,r.kB)(20),t=[];e.forEach((e,n)=>{var s,a,i,r,c,o;let l=(null===(a=e.influencer_videos)||void 0===a?void 0:null===(s=a.influencer_channels)||void 0===s?void 0:s.channel_name)||(null===(r=e.influencer_videos)||void 0===r?void 0:null===(i=r.influencer_channels)||void 0===i?void 0:i.channel_handle)||"알 수 없는 채널",d=(null===(c=e.speakers)||void 0===c?void 0:c.name)||l,u=(null===(o=e.influencer_videos)||void 0===o?void 0:o.published_at)||e.timestamp;t.push({id:"influencer_".concat(e.id||n),type:"influencer",icon:g(e.signal),categoryName:"인플루언서",stockName:e.stock||"알 수 없는 종목",stockCode:e.ticker||"",title:"".concat(d," → ").concat(e.stock," ").concat(e.signal),subtitle:e.key_quote||"",time:p(u),date:b(u),timestamp:new Date(u||0).getTime(),source:d,signal:e.signal,keyQuote:e.key_quote,reasoning:e.reasoning,profileLink:"/profile/".concat(x(l)),detailLink:"/stock/".concat(e.ticker,"?tab=influencer")})}),o.forEach(e=>{t.push({id:e.id,type:"analyst",icon:"\uD83D\uDCCA",categoryName:"애널리스트",stockName:e.stockName,stockCode:e.stockCode,title:"".concat(e.firm," ").concat(e.analyst," → ").concat(e.stockName," 목표가 ").concat(e.targetPrice),subtitle:e.summary,time:p(e.publishedAt),date:b(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:"".concat(e.firm," ").concat(e.analyst),signal:e.rating,detailLink:"/stock/".concat(e.stockCode,"?tab=analyst")})}),l.forEach(e=>{t.push({id:e.id,type:"disclosure",icon:"\uD83D\uDCCB",categoryName:"공시",stockName:e.stockName,stockCode:e.stockCode,title:"".concat(e.stockName," ").concat(e.title," (").concat(e.grade,"등급)"),subtitle:e.amount,time:p(e.publishedAt),date:b(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:"DART",detailLink:"/stock/".concat(e.stockCode,"?tab=disclosure")})}),d.forEach(e=>{t.push({id:e.id,type:"news",icon:"\uD83D\uDCE2",categoryName:"뉴스",stockName:e.stockName,stockCode:e.stockCode,title:e.title,subtitle:"",time:p(e.publishedAt),date:b(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:e.source,detailLink:"/stock/".concat(e.stockCode,"?tab=feed")})}),t.sort((e,t)=>t.timestamp-e.timestamp),console.log("Integrated feed loaded:",t.length,"items"),m(t)}catch(e){console.error("Error loading integrated feed:",e),m([])}finally{f(!1)}})()},[]);let g=e=>{switch(e){case"매수":return"\uD83D\uDD35";case"긍정":return"\uD83D\uDFE2";case"중립":return"\uD83D\uDFE1";case"경계":return"\uD83D\uDFE0";case"매도":return"\uD83D\uDD34";default:return"⚪"}},x=e=>e.includes("슈카")||e.includes("syuka")?"syuka":e.includes("삼프로")||e.includes("3pro")?"3protv":e.includes("코린이")||e.includes("korini")?"korini_papa":"unknown",p=e=>{if(!e)return"시간 미상";try{let t=new Date(e),n=new Date().getTime()-t.getTime(),s=Math.floor(n/6e4),a=Math.floor(n/36e5),i=Math.floor(n/864e5);if(i>0)return"".concat(i,"일 전");if(a>0)return"".concat(a,"시간 전");if(s>0)return"".concat(s,"분 전");return"방금 전"}catch(e){return"시간 미상"}},b=e=>{if(!e)return"날짜 미상";try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}catch(e){return"날짜 미상"}},v=e=>{"전체"===e.name?t("전체"):e.code&&(console.log("Navigating to stock page:",e.code),n.push("/stock/".concat(e.code)))},k=e=>{e.detailLink&&n.push(e.detailLink)},N=(e,t)=>{t.stopPropagation(),e.profileLink&&n.push(e.profileLink)};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#f4f4f4]",children:[(0,s.jsxs)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-[#191f28]",children:"⭐ 내 종목"}),(0,s.jsx)("div",{className:"text-sm text-[#8b95a1]",children:h?"로딩 중...":"".concat(u.length,"개 업데이트")})]}),(0,s.jsx)("p",{className:"text-sm text-[#8b95a1] mt-2",children:"관심 종목의 실시간 통합 피드입니다. 종목을 클릭하면 상세 페이지로 이동합니다."})]}),(0,s.jsx)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:c.map((t,n)=>(0,s.jsx)("button",{onClick:()=>v(t),className:"flex-shrink-0 px-4 py-2.5 rounded-full text-sm font-medium transition-colors ".concat(e===t.name?"bg-[#3182f6] text-white":"bg-[#f8f9fa] text-[#191f28] hover:bg-[#e9ecef]"),children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:t.name}),t.change&&(0,s.jsx)("span",{className:"text-xs font-medium ".concat(e===t.name?"text-white/90":t.isPositive?"text-[#f44336]":"text-[#3182f6]"),children:t.change}),"전체"!==t.name&&(0,s.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"→"})]})},n))})}),(0,s.jsxs)("div",{className:"px-4 py-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-[#e8e8e8] overflow-hidden",children:h?(0,s.jsx)("div",{className:"p-8 text-center",children:(0,s.jsx)("div",{className:"text-lg text-[#8b95a1]",children:"통합 피드를 불러오는 중..."})}):u.length>0?(0,s.jsx)("div",{className:"divide-y divide-[#f0f0f0]",children:u.map(e=>(0,s.jsx)("div",{onClick:()=>k(e),className:"px-4 py-4 hover:bg-[#f8f9fa] cursor-pointer transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#f8f9fa] flex items-center justify-center text-lg flex-shrink-0",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium px-2 py-0.5 rounded ".concat("influencer"===e.type?"text-[#8b95a1] bg-[#f2f4f6]":"analyst"===e.type?"text-blue-700 bg-blue-50":"disclosure"===e.type?"text-green-700 bg-green-50":"text-purple-700 bg-purple-50"),children:e.categoryName}),(0,s.jsx)("span",{className:"text-sm font-bold text-[#191f28]",children:e.stockName}),e.signal&&(0,s.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded ".concat("매수"===e.signal||"BUY"===e.signal?"text-blue-600 bg-blue-50":"긍정"===e.signal?"text-green-600 bg-green-50":"중립"===e.signal?"text-yellow-600 bg-yellow-50":"경계"===e.signal?"text-orange-600 bg-orange-50":"매도"===e.signal?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"),children:e.signal})]}),(0,s.jsx)("h3",{className:"text-[15px] font-medium text-[#191f28] leading-[1.4] mb-2",children:e.title}),e.subtitle&&(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("div",{className:"text-sm text-[#191f28] bg-[#f8f9fa] px-2 py-1 rounded line-clamp-2",children:e.subtitle})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-[#8b95a1]",children:e.time}),(0,s.jsx)("span",{className:"text-xs text-[#8b95a1]",children:"•"}),(0,s.jsx)("button",{onClick:t=>N(e,t),className:"text-sm text-[#3182f6] hover:underline",children:e.source})]}),(0,s.jsx)("div",{className:"text-[#8b95a1] text-sm",children:"→"})]})]})]})},e.id))}):(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,s.jsx)("div",{className:"text-lg font-medium text-[#191f28] mb-2",children:"아직 업데이트가 없습니다"}),(0,s.jsx)("div",{className:"text-sm text-[#8b95a1]",children:"관심 종목의 새로운 소식이 업데이트될 때까지 기다려주세요"})]})}),u.length>0&&(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-sm text-[#8b95a1]",children:"항목을 클릭하면 해당 종목의 상세 페이지로 이동합니다"})})]})]})}},2141:function(e,t,n){"use strict";n.d(t,{OQ:function(){return s},R8:function(){return a},getStockSignals:function(){return c},j7:function(){return r},kB:function(){return i}});let s=(0,n(3053).eI)("https://arypzhotxflimroprmdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyeXB6aG90eGZsaW1yb3BybWRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMDYxMTAsImV4cCI6MjA4NzU4MjExMH0.qcqFIvYRiixwu609Wjj9H3HxscU8vNpo9nS_KQ3f00A"),a=e=>{switch(e){case"매수":case"BUY":return"bg-blue-100 text-[#3182f6] border-blue-200";case"긍정":case"POSITIVE":return"bg-green-100 text-[#22c55e] border-green-200";case"중립":case"NEUTRAL":return"bg-yellow-100 text-[#eab308] border-yellow-200";case"경계":case"CONCERN":return"bg-orange-100 text-[#f97316] border-orange-200";case"매도":case"SELL":return"bg-red-100 text-[#ef4444] border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{let{data:t,error:n}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("review_status","approved").order("timestamp",{ascending:!1}).limit(e);if(n)return console.error("Error fetching latest signals:",n),[];return t||[]}catch(e){return console.error("Error in getLatestInfluencerSignals:",e),[]}}async function r(e){try{let{data:t,error:n}=await s.from("influencer_channels").select("*").eq("channel_handle",e).single();if(n)return console.error("Error fetching channel:",n),null;let{data:a,error:i}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id\n        ),\n        speakers (\n          name\n        )\n      ").in("video_id",await s.from("influencer_videos").select("id").eq("channel_id",t.id).then(e=>{let{data:t}=e;return(null==t?void 0:t.map(e=>e.id))||[]})).eq("review_status","approved").order("timestamp",{ascending:!1});if(i)return console.error("Error fetching signals:",i),{...t,signals:[]};return{...t,signals:a||[]}}catch(e){return console.error("Error in getInfluencerProfile:",e),null}}async function c(e){try{let{data:t,error:n}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("ticker",e).eq("review_status","approved").order("timestamp",{ascending:!1});if(n)return console.error("Error fetching stock signals:",n),[];return t||[]}catch(e){return console.error("Error in getStockSignals:",e),[]}}},9376:function(e,t,n){"use strict";var s=n(5475);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[53,971,117,744],function(){return e(e.s=8101)}),_N_E=e.O()}]);