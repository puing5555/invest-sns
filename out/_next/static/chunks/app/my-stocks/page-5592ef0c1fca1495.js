(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101,141],{8101:function(e,t,n){Promise.resolve().then(n.bind(n,1063))},1063:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(7437),s=n(2265),i=n(9376),r=n(2141),c=n(5142);let o=[{name:"전체",code:"",change:"",isPositive:!0,isActive:!0},{name:"삼성전자",code:"005930",change:"+0.8%",isPositive:!0,isActive:!1},{name:"현대차",code:"005380",change:"+2.1%",isPositive:!0,isActive:!1},{name:"카카오",code:"035720",change:"-1.2%",isPositive:!1,isActive:!1},{name:"SK하이닉스",code:"000660",change:"+1.5%",isPositive:!0,isActive:!1},{name:"LG에너지",code:"373220",change:"+0.5%",isPositive:!0,isActive:!1},{name:"NAVER",code:"035420",change:"-0.3%",isPositive:!1,isActive:!1}],l=[{id:"analyst_1",stockName:"삼성전자",stockCode:"005930",firm:"한국투자증권",analyst:"김선우",rating:"BUY",targetPrice:"85,000원",summary:"3분기 실적 서프라이즈, HBM 수요 증가",publishedAt:new Date(Date.now()-18e6).toISOString()},{id:"analyst_2",stockName:"현대차",stockCode:"005380",firm:"미래에셋증권",analyst:"박자동차",rating:"BUY",targetPrice:"220,000원",summary:"전기차 판매 증가, 인도법인 호조",publishedAt:new Date(Date.now()-108e5).toISOString()},{id:"analyst_3",stockName:"SK하이닉스",stockCode:"000660",firm:"KB증권",analyst:"이메모리",rating:"BUY",targetPrice:"190,000원",summary:"AI 반도체 수요 지속, D램 가격 회복",publishedAt:new Date(Date.now()-36e5).toISOString()}],d=[{id:"disclosure_1",stockName:"삼성전자",stockCode:"005930",title:"자사주 500만주 취득 결정",grade:"A",amount:"3조원",publishedAt:new Date(Date.now()-144e5).toISOString()},{id:"disclosure_2",stockName:"카카오",stockCode:"035720",title:"3분기 실적 공시",grade:"A",amount:"매출 1.8조원",publishedAt:new Date(Date.now()-72e5).toISOString()}],u=[{id:"news_1",stockName:"LG에너지",stockCode:"373220",title:"GM과 배터리 공급계약 연장 협의",source:"서울경제",publishedAt:new Date(Date.now()-216e5).toISOString()},{id:"news_2",stockName:"NAVER",stockCode:"035420",title:"AI 클로바X 글로벌 확장 계획 발표",source:"매일경제",publishedAt:new Date(Date.now()-18e5).toISOString()}];function m(){let[e,t]=(0,s.useState)("전체"),n=(0,i.useRouter)(),[m,h]=(0,s.useState)([]),[f,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{g(!0),console.log("Loading integrated feed...");let e=await (0,r.kB)(50),t=[];e.forEach((e,n)=>{var a,s,i,r,c,o;let l=(null===(s=e.influencer_videos)||void 0===s?void 0:null===(a=s.influencer_channels)||void 0===a?void 0:a.channel_name)||(null===(r=e.influencer_videos)||void 0===r?void 0:null===(i=r.influencer_channels)||void 0===i?void 0:i.channel_handle)||"알 수 없는 채널",d=(null===(c=e.speakers)||void 0===c?void 0:c.name)||l,u=(null===(o=e.influencer_videos)||void 0===o?void 0:o.published_at)||e.created_at;t.push({id:"influencer_".concat(e.id||n),type:"influencer",icon:x(e.signal),categoryName:"인플루언서",stockName:e.stock||"알 수 없는 종목",stockCode:e.ticker||"",title:"".concat(d," → ").concat(e.stock," ").concat(e.signal),subtitle:e.key_quote||"",time:b(u),date:k(u),timestamp:new Date(u||0).getTime(),source:d,signal:e.signal,keyQuote:e.key_quote,reasoning:e.reasoning,profileLink:"/profile/".concat(p(l)),detailLink:"/stock/".concat(e.ticker,"?tab=influencer")})}),l.forEach(e=>{t.push({id:e.id,type:"analyst",icon:"\uD83D\uDCCA",categoryName:"애널리스트",stockName:e.stockName,stockCode:e.stockCode,title:"".concat(e.firm," ").concat(e.analyst," → ").concat(e.stockName," 목표가 ").concat(e.targetPrice),subtitle:e.summary,time:b(e.publishedAt),date:k(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:"".concat(e.firm," ").concat(e.analyst),signal:e.rating,detailLink:"/stock/".concat(e.stockCode,"?tab=analyst")})}),d.forEach(e=>{t.push({id:e.id,type:"disclosure",icon:"\uD83D\uDCCB",categoryName:"공시",stockName:e.stockName,stockCode:e.stockCode,title:"".concat(e.stockName," ").concat(e.title," (").concat(e.grade,"등급)"),subtitle:e.amount,time:b(e.publishedAt),date:k(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:"DART",detailLink:"/stock/".concat(e.stockCode,"?tab=disclosure")})}),u.forEach(e=>{t.push({id:e.id,type:"news",icon:"\uD83D\uDCE2",categoryName:"뉴스",stockName:e.stockName,stockCode:e.stockCode,title:e.title,subtitle:"",time:b(e.publishedAt),date:k(e.publishedAt),timestamp:new Date(e.publishedAt).getTime(),source:e.source,detailLink:"/stock/".concat(e.stockCode,"?tab=feed")})}),t.sort((e,t)=>t.timestamp-e.timestamp),console.log("Integrated feed loaded:",t.length,"items"),h(t)}catch(e){console.error("Error loading integrated feed:",e),h([])}finally{g(!1)}})()},[]);let x=e=>{switch(e){case"매수":return"\uD83D\uDD35";case"긍정":return"\uD83D\uDFE2";case"중립":return"\uD83D\uDFE1";case"경계":return"\uD83D\uDFE0";case"매도":return"\uD83D\uDD34";default:return"⚪"}},p=e=>e.includes("슈카")||e.includes("syuka")?"syuka":e.includes("삼프로")||e.includes("3pro")?"3protv":e.includes("코린이")||e.includes("korini")?"korini_papa":"unknown",b=e=>{if(!e)return"시간 미상";try{let t=new Date(e),n=new Date().getTime()-t.getTime(),a=Math.floor(n/6e4),s=Math.floor(n/36e5),i=Math.floor(n/864e5);if(i>0)return"".concat(i,"일 전");if(s>0)return"".concat(s,"시간 전");if(a>0)return"".concat(a,"분 전");return"방금 전"}catch(e){return"시간 미상"}},k=e=>{if(!e)return"날짜 미상";try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}catch(e){return"날짜 미상"}},v=e=>{"전체"===e.name?t("전체"):e.code&&(console.log("Navigating to stock page:",e.code),n.push("/stock/".concat(e.code)))},N=e=>{e.detailLink&&n.push(e.detailLink)};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#f4f4f4]",children:[(0,a.jsxs)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-[#191f28]",children:"⭐ 내 종목"}),(0,a.jsx)("div",{className:"text-sm text-[#8b95a1]",children:f?"로딩 중...":"".concat(m.length,"개 업데이트")})]}),(0,a.jsx)("p",{className:"text-sm text-[#8b95a1] mt-2",children:"관심 종목의 실시간 통합 피드입니다. 종목을 클릭하면 상세 페이지로 이동합니다."})]}),(0,a.jsx)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-4",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:o.map((t,n)=>(0,a.jsx)("button",{onClick:()=>v(t),className:"flex-shrink-0 px-4 py-2.5 rounded-full text-sm font-medium transition-colors ".concat(e===t.name?"bg-[#3182f6] text-white":"bg-[#f8f9fa] text-[#191f28] hover:bg-[#e9ecef]"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:t.name}),t.change&&(0,a.jsx)("span",{className:"text-xs font-medium ".concat(e===t.name?"text-white/90":t.isPositive?"text-[#f44336]":"text-[#3182f6]"),children:t.change}),"전체"!==t.name&&(0,a.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"→"})]})},n))})}),(0,a.jsxs)("div",{className:"px-4 py-4",children:[(0,a.jsx)("div",{children:f?(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsx)("div",{className:"text-lg text-[#8b95a1]",children:"통합 피드를 불러오는 중..."})}):m.length>0?(0,a.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,a.jsx)(c.Z,{icon:e.icon,categoryName:e.categoryName,title:e.title,date:e.date,signal:e.signal,onClick:()=>N(e)},e.id))}):(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,a.jsx)("div",{className:"text-lg font-medium text-[#191f28] mb-2",children:"아직 업데이트가 없습니다"}),(0,a.jsx)("div",{className:"text-sm text-[#8b95a1]",children:"관심 종목의 새로운 소식이 업데이트될 때까지 기다려주세요"})]})}),m.length>0&&(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("p",{className:"text-sm text-[#8b95a1]",children:"항목을 클릭하면 해당 종목의 상세 페이지로 이동합니다"})})]})]})}},5142:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(7437);function s(e){let{icon:t,categoryName:n,title:s,date:i,signal:r,keyQuote:c,commentCount:o,likeCount:l,onClick:d}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-[#e8e8e8] overflow-hidden",children:[(0,a.jsx)("div",{onClick:d,className:"px-4 py-4 hover:bg-[#f8f9fa] cursor-pointer transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#f8f9fa] flex items-center justify-center text-lg flex-shrink-0",children:t}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-[#8b95a1] bg-[#f2f4f6] px-2 py-0.5 rounded",children:n}),r&&(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded ".concat((e=>{switch(e){case"매수":case"BUY":return"text-green-600 bg-green-50";case"긍정":case"POSITIVE":return"text-blue-600 bg-blue-50";case"중립":case"NEUTRAL":return"text-yellow-600 bg-yellow-50";case"경계":case"CONCERN":return"text-orange-600 bg-orange-50";case"매도":case"SELL":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(r)),children:r})]}),(0,a.jsx)("h3",{className:"text-[15px] font-medium text-[#191f28] leading-[1.4] mb-1",children:s}),c&&(0,a.jsxs)("p",{className:"text-sm text-[#4e5968] italic mb-1 line-clamp-1",children:["“",c,"”"]}),(0,a.jsx)("span",{className:"text-sm text-[#8b95a1]",children:i})]}),(0,a.jsx)("div",{className:"text-[#8b95a1] text-sm",children:"→"})]})}),(0,a.jsx)("div",{className:"border-t border-[#f0f0f0] px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs text-[#8b95a1]",children:["\uD83D\uDCAC 댓글 ",null!=o?o:Math.floor(10*Math.random())+1,"개"]}),(0,a.jsx)("span",{className:"text-xs text-[#8b95a1]",children:"•"}),(0,a.jsxs)("span",{className:"text-xs text-[#8b95a1]",children:["❤️ 좋아요 ",null!=l?l:Math.floor(50*Math.random())+5,"개"]})]})})]})}},2141:function(e,t,n){"use strict";n.d(t,{OQ:function(){return a},R8:function(){return s},getStockSignals:function(){return c},j7:function(){return r},kB:function(){return i}});let a=(0,n(3053).eI)("https://arypzhotxflimroprmdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyeXB6aG90eGZsaW1yb3BybWRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMDYxMTAsImV4cCI6MjA4NzU4MjExMH0.qcqFIvYRiixwu609Wjj9H3HxscU8vNpo9nS_KQ3f00A"),s=e=>{switch(e){case"매수":case"BUY":return"bg-green-100 text-[#22c55e] border-green-200";case"긍정":case"POSITIVE":return"bg-blue-100 text-[#3182f6] border-blue-200";case"중립":case"NEUTRAL":return"bg-yellow-100 text-[#eab308] border-yellow-200";case"경계":case"CONCERN":return"bg-orange-100 text-[#f97316] border-orange-200";case"매도":case"SELL":return"bg-red-100 text-[#ef4444] border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{let{data:t,error:n}=await a.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").order("created_at",{ascending:!1}).limit(e);if(n)return console.error("Error fetching latest signals:",n),[];return t||[]}catch(e){return console.error("Error in getLatestInfluencerSignals:",e),[]}}async function r(e){try{let{data:t,error:n}=await a.from("influencer_channels").select("*").eq("channel_handle",e).single();if(n)return console.error("Error fetching channel:",n),null;let{data:s,error:i}=await a.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id\n        ),\n        speakers (\n          name\n        )\n      ").in("video_id",await a.from("influencer_videos").select("id").eq("channel_id",t.id).then(e=>{let{data:t}=e;return(null==t?void 0:t.map(e=>e.id))||[]})).order("created_at",{ascending:!1});if(i)return console.error("Error fetching signals:",i),{...t,signals:[]};return{...t,signals:s||[]}}catch(e){return console.error("Error in getInfluencerProfile:",e),null}}async function c(e){try{let{data:t,error:n}=await a.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id,\n          video_summary,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("ticker",e).order("created_at",{ascending:!1});if(n)return console.error("Error fetching stock signals:",n),[];return t||[]}catch(e){return console.error("Error in getStockSignals:",e),[]}}},9376:function(e,t,n){"use strict";var a=n(5475);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[53,971,117,744],function(){return e(e.s=8101)}),_N_E=e.O()}]);