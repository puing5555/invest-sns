(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966,141],{4449:function(e,t,n){Promise.resolve().then(n.bind(n,8153))},8153:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var s=n(7437),l=n(2265),r=n(7648),a=n(9376),i=n(2141),c=n(9283),o=n(5798);let d={CC:"캔톤네트워크",BTC:"비트코인",XRP:"리플",NVDA:"엔비디아",TSLA:"테슬라",TSM:"TSMC",ASML:"ASML",MU:"마이크론",SOXX:"SOXX"};function u(e,t){if(!e)return t||"-";if(/[가-힣]/.test(e))return!t||t===e||/^\d+$/.test(t)?e:"".concat(e," (").concat(t,")");let n=d[e];return n?"".concat(n," (").concat(e,")"):e}function x(e,t){return e?/[가-힣]/.test(e)?e:d[e]||e:t||"-"}function m(e){let{id:t}=e,n=(0,a.useRouter)(),d=(0,c.VF)(t)||decodeURIComponent(t),[m,f]=(0,l.useState)(null),[h,p]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[v,j]=(0,l.useState)("전체"),[N,_]=(0,l.useState)({});if((0,l.useEffect)(()=>{(async()=>{p(!0);let[e]=await Promise.all([(0,i.l2)(d),fetch("".concat("","/signal_prices.json")).then(e=>e.ok?e.json():{}).then(e=>_(e)).catch(()=>{})]);f(e),p(!1)})()},[d]),h)return(0,s.jsx)("div",{className:"min-h-screen bg-[#f4f4f4] flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-4xl mb-4",children:"⏳"})});if(!m||0===m.totalSignals)return(0,s.jsx)("div",{className:"min-h-screen bg-[#f4f4f4] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD0D"}),(0,s.jsxs)("h2",{className:"text-xl font-bold text-[#191f28] mb-2",children:["'",d,"' 시그널을 찾을 수 없습니다"]}),(0,s.jsx)(r.default,{href:"/explore/influencer",className:"text-[#3182f6]",children:"← 인플루언서 목록으로"})]})});let y=[];if(null==m?void 0:m.signals){let e={},t={};for(let n of m.signals){let s=x(n.stock,n.ticker)||"기타",l=u(n.stock,n.ticker)||"기타";e[s]=(e[s]||0)+1,t[s]||(t[s]=l)}Object.entries(e).sort((e,t)=>t[1]-e[1]).forEach(e=>{let[n,s]=e;return y.push({name:t[n],count:s,shortName:n})})}let k=("전체"===v?(null==m?void 0:m.signals)||[]:((null==m?void 0:m.signals)||[]).filter(e=>(x(e.stock,e.ticker)||"기타")===v)).sort((e,t)=>{var n,s;let l=(null===(n=e.influencer_videos)||void 0===n?void 0:n.published_at)||e.created_at||"";return((null===(s=t.influencer_videos)||void 0===s?void 0:s.published_at)||t.created_at||"").localeCompare(l)}),w=e=>{var t,n,s,l,r;let a=(null===(n=e.influencer_videos)||void 0===n?void 0:null===(t=n.influencer_channels)||void 0===t?void 0:t.channel_name)||"";b({date:(null===(s=e.influencer_videos)||void 0===s?void 0:s.published_at)||e.created_at,influencer:d,signal:e.signal,quote:e.key_quote||"",videoUrl:(null===(l=e.influencer_videos)||void 0===l?void 0:l.video_id)?"https://youtube.com/watch?v=".concat(e.influencer_videos.video_id):"#",analysis_reasoning:e.reasoning,videoTitle:null===(r=e.influencer_videos)||void 0===r?void 0:r.title,channelName:a,timestamp:e.timestamp,ticker:e.ticker})};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#f4f4f4]",children:[(0,s.jsxs)("div",{className:"bg-white border-b border-[#e8e8e8] px-4 py-6",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("button",{onClick:()=>n.push("/explore/influencer"),className:"flex items-center gap-2 text-[#8b95a1] hover:text-[#191f28] transition-colors",children:[(0,s.jsx)("span",{className:"text-lg",children:"←"}),(0,s.jsx)("span",{className:"text-sm",children:"인플루언서 목록"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-full bg-[#e8f4fd] flex items-center justify-center text-2xl font-bold text-[#3182f6] flex-shrink-0",children:d.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-[#191f28]",children:d}),(0,s.jsxs)("p",{className:"text-sm text-[#8b95a1] mt-1",children:["총 ",m.totalSignals,"건의 시그널"]})]})]}),y.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#8b95a1] mb-1.5",children:"관심 종목"}),(0,s.jsx)("p",{className:"text-sm text-[#333d4b]",children:y.slice(0,5).map((e,t)=>(0,s.jsxs)("span",{children:[t>0&&(0,s.jsx)("span",{className:"text-[#d1d6db] mx-1",children:"\xb7"}),(0,s.jsx)("span",{className:"font-medium",children:e.shortName}),(0,s.jsxs)("span",{className:"text-[#8b95a1]",children:["(",e.count,")"]})]},e.shortName))})]})]}),(()=>{let e=y.filter(e=>e.count>=5);return e.length>0?(0,s.jsx)("div",{className:"px-4 pt-4 pb-0",children:(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:[(0,s.jsxs)("button",{onClick:()=>j("전체"),className:"flex-shrink-0 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ".concat("전체"===v?"bg-[#191f28] text-white":"bg-white text-[#8b95a1] border border-[#e8e8e8]"),children:["전체 ",m.totalSignals]}),e.map(e=>(0,s.jsxs)("button",{onClick:()=>j(e.shortName),className:"flex-shrink-0 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ".concat(v===e.shortName?"bg-[#191f28] text-white":"bg-white text-[#8b95a1] border border-[#e8e8e8]"),children:[e.shortName," ",e.count]},e.shortName))]})}):null})(),(0,s.jsx)("div",{className:"px-4 py-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg border border-[#e8e8e8] overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-[#f8f9fa]",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"날짜"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"종목"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"신호"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"수익률"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"핵심발언"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#8b95a1]",children:"영상링크"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-[#f0f0f0]",children:k.map((e,t)=>{var n,l;let r=(null===(n=e.influencer_videos)||void 0===n?void 0:n.published_at)||e.created_at,a=null===(l=e.influencer_videos)||void 0===l?void 0:l.video_id,i=r?new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):"",c=(()=>{switch(e.signal){case"매수":return"\uD83D\uDFE2";case"긍정":return"\uD83D\uDD35";case"중립":return"\uD83D\uDFE1";case"경계":return"\uD83D\uDFE0";case"매도":return"\uD83D\uDD34";default:return"⚪"}})();return(0,s.jsxs)("tr",{className:"hover:bg-[#f8f9fa] cursor-pointer transition-colors",onClick:()=>w(e),children:[(0,s.jsx)("td",{className:"px-4 py-4 text-sm text-[#191f28] whitespace-nowrap",children:i}),(0,s.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-[#191f28] whitespace-nowrap",children:u(e.stock,e.ticker)}),(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:c}),(0,s.jsx)("span",{className:"text-xs font-medium",children:e.signal})]})}),(0,s.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:(()=>{var t,n;if("중립"===e.signal)return(0,s.jsx)("span",{className:"text-[#8b95a1]",children:"N/A"});let l=N[e.id];if(!l||null==l.return_pct)return(0,s.jsx)("span",{className:"text-[#8b95a1]",children:"-"});let r=l.return_pct,a="매수"===e.signal||"긍정"===e.signal?r>=0:r<=0;return(0,s.jsxs)("span",{className:"font-medium ".concat(a?"text-[#22c55e]":"text-[#ef4444]"),title:"시점가 ".concat(null===(t=l.price_at_signal)||void 0===t?void 0:t.toLocaleString(),"원 → 현재 ").concat(null===(n=l.price_current)||void 0===n?void 0:n.toLocaleString(),"원"),children:[r>=0?"▲":"▼"," ",r>=0?"+":"",r,"%"]})})()}),(0,s.jsx)("td",{className:"px-4 py-4 text-sm text-[#191f28] max-w-xs",children:(0,s.jsx)("div",{className:"truncate",title:e.key_quote,children:e.key_quote||"-"})}),(0,s.jsx)("td",{className:"px-4 py-4",children:a?(0,s.jsx)("a",{href:"https://youtube.com/watch?v=".concat(a),target:"_blank",rel:"noopener noreferrer",className:"text-[#3182f6] hover:text-[#2171e5] text-sm font-medium",onClick:e=>e.stopPropagation(),children:"영상보기 →"}):"-"})]},e.id||t)})})]})})})}),(0,s.jsx)(o.Z,{signal:g,onClose:()=>b(null)})]})}},5798:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(7437),l=n(2265);let r=[/confidence\s*[=:]\s*\w+/gi,/mention_type\s*[=:]\s*\w+/gi,/signal_type\s*[=:]\s*\w+/gi,/\[내부\s*메모\]/gi,/\[AI\s*(분석|메모|노트)\]/gi];function a(e){var t;let n;let{signal:a,onClose:i}=e,[c,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(""),[x,m]=(0,l.useState)(!1);if(!a)return null;let f=e=>{if(!e)return null;let t=e.split(":").map(Number);return 2===t.length?60*t[0]+t[1]:3===t.length?3600*t[0]+60*t[1]+t[2]:null},h=!a.channelName||!a.influencer||a.channelName===a.influencer||a.channelName.includes(a.influencer)||a.influencer.includes(a.channelName),p=(()=>{if(!a.videoUrl||"#"===a.videoUrl)return null;let e=f(a.timestamp);if(e&&a.videoUrl.includes("youtube.com")||a.videoUrl.includes("youtu.be")){let t=a.videoUrl.includes("?")?"&":"?";return"".concat(a.videoUrl).concat(t,"t=").concat(e)}return a.videoUrl})();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:i}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:i,children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[85vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white z-10 px-4 pt-4 pb-2 flex items-center justify-between rounded-t-2xl",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold ".concat((e=>{switch(e){case"매수":return"text-green-600 bg-green-50";case"긍정":return"text-blue-600 bg-blue-50";case"중립":return"text-yellow-600 bg-yellow-50";case"경계":return"text-orange-600 bg-orange-50";case"매도":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(a.signal)),children:a.signal})}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:()=>{if(x){m(!1),o(!1);return}m(!0),o(!0)},className:"transition-colors text-sm px-2 py-1 rounded-lg ".concat(x?"text-red-500":"text-[#8b95a1] hover:text-red-400"),children:x?"❤️":"\uD83E\uDD0D"}),(0,s.jsx)("button",{className:"text-[#8b95a1] hover:text-red-500 transition-colors text-sm px-2 py-1 rounded-lg",children:"\uD83D\uDEA8"}),(0,s.jsx)("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-[#f8f9fa] transition-colors text-[#8b95a1] text-lg",children:"✕"})]})]}),(0,s.jsxs)("div",{className:"px-5 pb-5 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-[#191f28] leading-snug",children:a.videoTitle||(null===(t=a.quote)||void 0===t?void 0:t.slice(0,40))+"..."}),(0,s.jsx)("p",{className:"text-sm text-[#8b95a1] mt-1",children:(e=>{try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}})(a.date)})]}),(0,s.jsx)("div",{className:"text-sm text-[#8b95a1]",children:h?(0,s.jsxs)(s.Fragment,{children:["채널: ",(0,s.jsx)("span",{className:"font-medium text-[#191f28]",children:a.influencer})]}):(0,s.jsxs)(s.Fragment,{children:["발언자: ",(0,s.jsx)("span",{className:"font-medium text-[#191f28]",children:a.influencer})]})}),(0,s.jsxs)("div",{className:"bg-[#f8f9fa] rounded-xl p-4 border-l-4 border-[#3182f6]",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-[#8b95a1] mb-2",children:"핵심발언"}),(0,s.jsxs)("p",{className:"text-[15px] text-[#191f28] leading-relaxed italic",children:["“",a.quote,"”"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-medium text-[#8b95a1] mb-2",children:"영상 내용 요약"}),a.analysis_reasoning?(0,s.jsx)("p",{className:"text-sm text-[#333d4b] leading-relaxed whitespace-pre-wrap",children:(n=a.analysis_reasoning,r.forEach(e=>{n=n.replace(e,"").trim()}),n=n.replace(/\n{3,}/g,"\n\n").trim())}):(0,s.jsx)("p",{className:"text-sm text-[#8b95a1] italic",children:"영상 요약 준비 중"})]}),c&&(0,s.jsxs)("div",{className:"bg-[#fffbeb] rounded-xl p-4 border border-[#fde68a]",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-[#92400e] mb-2",children:"\uD83D\uDC9B 메모 남기기"}),(0,s.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),placeholder:"이 시그널에 대한 메모를 남겨보세요...",className:"w-full text-sm border border-[#fde68a] rounded-lg p-2 resize-none h-20 focus:outline-none focus:ring-1 focus:ring-[#f59e0b]"}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,s.jsx)("button",{onClick:()=>o(!1),className:"text-xs text-[#8b95a1] px-3 py-1.5 rounded-lg hover:bg-[#f8f9fa]",children:"취소"}),(0,s.jsx)("button",{onClick:()=>{console.log("Memo saved:",d),o(!1)},className:"text-xs text-white bg-[#f59e0b] px-3 py-1.5 rounded-lg hover:bg-[#d97706] font-medium",children:"저장"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[a.ticker&&(0,s.jsx)("a",{href:"/stock/".concat(a.ticker,"?tab=influencer"),className:"flex-1 text-center bg-[#3182f6] hover:bg-[#1b64da] text-white font-medium py-3.5 rounded-xl transition-colors text-[15px]",children:"\uD83D\uDCCA 차트보기"}),p&&(0,s.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center bg-[#ff0000] hover:bg-[#cc0000] text-white font-medium py-3.5 rounded-xl transition-colors text-[15px]",children:"▶️ 영상보기"})]})]})]})})]})}},9283:function(e,t,n){"use strict";n.d(t,{O5:function(){return a},VF:function(){return i}});let s={이효석:"lee-hyoseok",조진표:"cho-jinpyo",코린이아빠:"korini-appa","코린이 아빠":"korini-appa",박지훈:"park-jihoon",배재원:"bae-jaewon",김동훈:"kim-donghoon",김장년:"kim-jangnyeon",고연수:"ko-yeonsu",이건희:"lee-gunhee",장우진:"jang-woojin",김장열:"kim-jangyeol",박병창:"park-byungchang",박명성:"park-myungsung",달란트투자:"dalant-invest",syuka:"syuka",이영수:"lee-youngsu",이정윤:"lee-jungyoon",배재규:"bae-jaegyu",배제기:"bae-jegi",김학주:"kim-hakju"};function l(e){if(/^[a-zA-Z0-9_-]+$/.test(e))return e.toLowerCase();let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return"speaker-".concat(Math.abs(t).toString(36))}let r={};function a(e){return s[e]||l(e)}function i(e){return r[e]||null}Object.entries(s).forEach(e=>{let[t,n]=e;r[n]=t;let s=l(t);s!==n&&(r[s]=t)})},2141:function(e,t,n){"use strict";n.d(t,{OQ:function(){return s},getStockSignals:function(){return a},kB:function(){return l},l2:function(){return r}});let s=(0,n(3053).eI)("https://arypzhotxflimroprmdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyeXB6aG90eGZsaW1yb3BybWRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMDYxMTAsImV4cCI6MjA4NzU4MjExMH0.qcqFIvYRiixwu609Wjj9H3HxscU8vNpo9nS_KQ3f00A");async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{let{data:t,error:n}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").order("created_at",{ascending:!1}).limit(e);if(n)return console.error("Error fetching latest signals:",n),[];return t||[]}catch(e){return console.error("Error in getLatestInfluencerSignals:",e),[]}}async function r(e){try{let{data:t,error:n}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("speaker_id",e).order("created_at",{ascending:!1});if(!t||0===t.length){let{data:l}=await s.from("speakers").select("id").eq("name",e);if(l&&l.length>0){let e=l.map(e=>e.id),{data:r,error:a}=await s.from("influencer_signals").select("\n            *,\n            influencer_videos (\n              title,\n              published_at,\n              video_id,\n              influencer_channels (\n                channel_name,\n                channel_handle\n              )\n            ),\n            speakers (\n              name\n            )\n          ").in("speaker_id",e).order("created_at",{ascending:!1});a||(t=r,n=a)}}if(n)return console.error("Error fetching speaker signals:",n),null;return{speakerName:e,signals:t||[],totalSignals:(null==t?void 0:t.length)||0,stocks:[...new Set(null==t?void 0:t.map(e=>e.stock).filter(Boolean))],channels:[...new Set(null==t?void 0:t.map(e=>{var t,n;return null===(n=e.influencer_videos)||void 0===n?void 0:null===(t=n.influencer_channels)||void 0===t?void 0:t.channel_name}).filter(Boolean))]}}catch(e){return console.error("Error in getInfluencerProfileBySpeaker:",e),null}}async function a(e){try{let{data:t,error:n}=await s.from("influencer_signals").select("\n        *,\n        influencer_videos (\n          title,\n          published_at,\n          video_id,\n          video_summary,\n          channel_id,\n          influencer_channels (\n            channel_name,\n            channel_handle\n          )\n        ),\n        speakers (\n          name\n        )\n      ").eq("ticker",e).order("created_at",{ascending:!1});if(n)return console.error("Error fetching stock signals:",n),[];return t||[]}catch(e){return console.error("Error in getStockSignals:",e),[]}}},9376:function(e,t,n){"use strict";var s=n(5475);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[648,53,971,117,744],function(){return e(e.s=4449)}),_N_E=e.O()}]);